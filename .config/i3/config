# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

font pango:Ubuntu, Light 12

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# no no no no no
focus_follows_mouse yes

set $tabbed tabbed -f 
# start a terminal
bindsym $mod+Return exec --no-startup-id $tabbed st -w 

# kill focused window
bindsym $mod+q kill

# exit i3
bindcode $mod+Shift+26 exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# start dmenu (a program launcher)
#bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

set $movepixel 50
# move focused window
bindsym $mod+Shift+h move left $movepixel px
bindsym $mod+Shift+j move down $movepixel px
bindsym $mod+Shift+k move up $movepixel px
bindsym $mod+Shift+l move right $movepixel px

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+c split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+e layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+t layout toggle split

# toggle tiling / floating
bindsym $mod+space floating toggle

# make floating terminal sticky
bindsym $mod+s sticky toggle

# toggle mark
bindsym $MOD+m mark --toggle priority
bindsym $mod+n [con_mark="priority"] focus

# scratchpad (hidden workspace) stuff
bindsym $mod+p scratchpad show
bindsym $mod+Shift+p move scratchpad

# change focus between tiling / floating windows
bindsym $mod+Control+space focus mode_toggle

# focus the parent container
bindsym $mod+z focus parent

# focus the child container
bindsym $mod+x focus child

# fn power keys
set $lock sh ~/.config/scripts/lock && sleep 1
bindsym XF86Sleep exec $lock && systemctl suspend, mode "default"
bindsym XF86ScreenSaver exec $lock && systemctl suspend, mode "default"
bindsym xf86suspend exec $lock && systemctl hibernate, mode "default"

set $touchpadtoggle sh ~/.config/scripts/touchpad_toggle
bindsym XF86TouchpadToggle exec $touchpadtoggle

# fn brightness keys
bindsym XF86MonBrightnessUp exec xbacklight -inc 10
bindsym XF86MonBrightnessDown exec xbacklight -dec 10

# volume keys
bindsym XF86AudioRaiseVolume exec "pactl set-sink-mute 0 false; pactl set-sink-volume 0 +5%"
bindsym XF86AudioLowerVolume exec "pactl set-sink-mute 0 false; pactl set-sink-volume 0 -5%"
bindsym XF86AudioMute exec "pactl set-sink-mute 0 toggle"

bindsym mod1+Shift+Ctrl+Left exec "xrandr -o left"
bindsym mod1+Shift+Ctrl+Right exec "xrandr -o right"
bindsym mod1+Shift+Ctrl+Up exec "xrandr -o normal"
bindsym mod1+Shift+Ctrl+Down exec "xrandr -o inverted"

# quick hack for X200T
bindsym XF86TaskPane exec "sh ~/.config/scripts/xrandrToggleRot", restart

# Define names for default workspaces for which we configure key bindings later on.
set $ws1 1:一
set $ws2 2:二
set $ws3 3:三
set $ws4 4:四
set $ws5 5:五
set $ws6 6:六
set $ws7 7:七
set $ws8 8:八
set $ws9 9:九
set $ws10 10:十

set $default_gaps_inner 15
set $default_gaps_outer 0
gaps inner $default_gaps_inner
gaps outer $default_gaps_outer

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# alt tab around
bindsym mod1+Shift+Tab workspace prev_on_output
bindsym	mod1+Tab workspace next_on_output

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8; workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9; workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10; workspace $ws10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

set $resize resize window
set $bigresizepixels 50
set $resizepixels 10
bindsym $mod+r mode "$resize"
# resize window (you can also use the mouse for that)
mode "$resize" {
        # These bindings trigger as soon as you enter the resize mode

        bindsym h resize shrink width $resizepixels px or $resizepixels ppt
        bindsym j resize grow height $resizepixels px or $resizepixels ppt
        bindsym k resize shrink height $resizepixels px or $resizepixels ppt
        bindsym l resize grow width $resizepixels px or $resizepixels ppt

	bindsym Shift+w move up $movepixel
    	bindsym Shift+a move left $movepixel
    	bindsym Shift+s move down $movepixel
    	bindsym Shift+d move right $movepixel

	bindsym Shift+h resize shrink width $bigresizepixels px or $bigresizepixels ppt
	bindsym Shift+j resize grow height $bigresizepixels px or $bigresizepixels ppt
	bindsym Shift+k resize shrink height $bigresizepixels px or $bigresizepixels ppt
	bindsym Shift+l resize grow width $bigresizepixels px or $bigresizepixels ppt
        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
}


# these colors don't actually show what they say when you use pywal
set_from_resource $darkred     color1  #000000
set_from_resource $red         color9  #000000
set_from_resource $darkgreen   color2  #000000
set_from_resource $green       color10 #000000
set_from_resource $darkyellow  color3  #000000
set_from_resource $yellow      color11 #000000
set_from_resource $darkblue    color4  #000000
set_from_resource $blue        color12 #000000
set_from_resource $darkmagenta color5  #000000
set_from_resource $magenta     color13 #000000
set_from_resource $darkcyan    color6  #000000
set_from_resource $cyan        color14 #000000
set_from_resource $darkwhite   color7  #000000
set_from_resource $white       color15 #000000
# Use custom colors for black
set $black       #282828
set $darkblack   #121212
set $transparent #00000000

# Set colors from Xresources
# Change 'color7' and 'color2' to whatever colors you want i3 to use
# from the generated scheme.
# NOTE: The '#f0f0f0' in the lines below is the color i3 will use if
# it fails to get colors from Xresources.
set_from_resource $fg foreground #f0f0f0
set_from_resource $bg background #f0f0f0

for_window [class="^.*"] border pixel 2

# class                 border  backgr. text indicator child_border
client.focused          $bg     $bg     $fg  $bg       $gray
client.focused_inactive $bg     $bg     $fg  $bg       $black
client.unfocused        $bg     $bg     $fg  $bg       $bg
client.urgent           $bg     $bg     $fg  $bg       $bg
client.placeholder      $bg     $bg     $fg  $bg       $bg
client.background       $bg


exec_always --no-startup-id $HOME/.config/polybar/launch.sh
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
#bar {
#        verbose yes
#    	i3bar_command i3bar -t
#	position top 
#    	font pango:DejaVu Sans Mono 10 
#    	strip_workspace_numbers yes
#    	separator_symbol "/"
#    	tray_output primary
#    	height 20
#
#    colors {
#        background         $black
#        separator          $green
##                          BORDER       BACKGROUND   TEXT
#        focused_workspace  $white 	$cyan     	$black
#        inactive_workspace $transparent $transparent $gray
#        active_workspace   $transparent $transparent $white
#        urgent_workspace   $darkred     $darkred     $transparent
#        binding_mode       $darkred     $darkred     $transparent
#    }
#	status_command i3status --config ~/.config/i3status/config
#}

set $mode_gaps gaps
set $mode_gaps_outer outer gaps
set $mode_gaps_inner inner gaps
bindsym $mod+g mode "$mode_gaps"
mode "$mode_gaps" {
    bindsym o      mode "$mode_gaps_outer"
    bindsym i      mode "$mode_gaps_inner"

    bindsym plus  gaps inner current plus 5
    bindsym minus gaps inner current minus 5

    bindsym 0      mode "default", exec --no-startup-id i3-msg "gaps inner current set 0" && i3-msg "gaps outer current set 0"
    bindsym d      mode "default", exec --no-startup-id i3-msg "gaps inner current set $default_gaps_inner" && i3-msg "gaps outer current set $default_gaps_outer"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
    bindsym o      mode "$mode_gaps_outer"
    bindsym i      mode "$mode_gaps_inner"

    bindsym plus  gaps inner current plus 5
    bindsym minus gaps inner current minus 5
    bindsym 0     mode "default", gaps inner current set 0
    bindsym d     mode "default", gaps inner current set $default_gaps_inner

    bindsym Shift+plus  gaps inner all plus 5
    bindsym Shift+minus gaps inner all minus 5
    bindsym Shift+0     mode "default", gaps inner all set 0
    bindsym Shift+d     mode "default", gaps inner all set $default_gaps_inner

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
    bindsym o      mode "$mode_gaps_outer"
    bindsym i      mode "$mode_gaps_inner"

    bindsym plus  gaps outer current plus 5
    bindsym minus gaps outer current minus 5
    bindsym 0     mode "default", gaps outer current set 0
    bindsym d     mode "default", gaps outer current set $default_gaps_outer

    bindsym Shift+plus  gaps outer all plus 5
    bindsym Shift+minus gaps outer all minus 5
    bindsym Shift+0     mode "default", gaps outer all set 0
    bindsym Shift+d     mode "default", gaps outer all set $default_gaps_outer

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

workspace_auto_back_and_forth yes
force_display_urgency_hint 500ms

for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="Preferences"] floating enable
for_window [title="float"] floating enable
for_window [window_type="dialog"] floating enable
for_window [window_type="menu"] floating enable
for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] move scratchpad

exec --no-startup-id $tabbed -n dropdown st -g 120x20 -w
exec_always --no-startup-id feh --bg-scale ~/.config/wall.png
